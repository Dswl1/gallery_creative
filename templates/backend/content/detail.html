{% extends 'backend/index.html' %}
{% block content %}

<section class="max-w-7xl mx-auto px-6 py-8">


  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4">

    <div>
      <h2 class="text-2xl font-extrabold text-gray-800">
        {{ image.title }}
      </h2>
      <p class="text-sm text-gray-500">
        Detail & pengelolaan konten
      </p>
    </div>

    <div class="flex gap-3">
      <a href="{{ url_for('dashboard_content') }}"
        class="px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 transition text-sm">
        ‚Üê Kembali
      </a>
    </div>

  </div>


  <div class="grid grid-cols-1 xl:grid-cols-3 gap-10">

    <!-- LEFT : IMAGE + META -->
    <div class="xl:col-span-2 space-y-8">

      <!-- IMAGE -->
      <div class="bg-white rounded-3xl shadow-xl overflow-hidden">
        <img src="{{ url_for('static', filename='uploads/' ~ image.filename) }}" class="w-full h-[420px] object-cover">
      </div>

      <!-- DESCRIPTION -->
      <div class="bg-white rounded-3xl shadow p-8">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">
          Deskripsi Karya
        </h3>
        <p class="text-sm text-gray-700 leading-relaxed">
          {{ image.description or 'Tidak ada deskripsi' }}
        </p>
      </div>

    </div>

    <!-- RIGHT : INFO PANEL -->
    <div class="space-y-6">

      <div class="bg-white rounded-3xl shadow p-6">
        <h4 class="text-sm font-bold text-gray-400 uppercase mb-4">
          Informasi
        </h4>

        <div class="space-y-4 text-sm">
          <div>
            <p class="text-gray-400">Judul</p>
            <p class="font-semibold">{{ image.title }}</p>
          </div>

          <div>
            <p class="text-gray-400">Kategori</p>
            <p class="font-semibold">{{ image.category }}</p>
          </div>

          <div>
            <p class="text-gray-400">Publisher</p>
            <p class="font-semibold">{{ image.username }}</p>
          </div>

          <div>
            <p class="text-gray-400">Tanggal Upload</p>
            <p class="font-semibold">{{ image.created_at }}</p>
          </div>
        </div>
      </div>

      <!-- ACTION -->
      <div class="bg-white rounded-3xl shadow p-6 flex flex-col gap-3">
        <a href="{{ url_for('update_content', id=image.id) }}"
          class="w-full text-center py-3 rounded-xl bg-blue-500 text-white hover:bg-blue-600 transition">
          Edit Konten
        </a>

        <form id="deleteForm-{{ image.id }}" action="{{ url_for('delete_content', id=image.id) }}" method="POST">

          <button type="button" onclick="confirmDelete(this)" data-id="{{ image.id }}" class="w-full py-3 rounded-xl
                 border border-red-500 text-red-500
                 hover:bg-red-500 hover:text-white transition">
            Hapus Konten
          </button>

        </form>


      </div>

    </div>

  </div>

</section>

{% endblock %}